<?xml version="1.0" encoding="UTF-8"?>
<project default="count" basedir="." >
 <!-- 独自タスクの定義 相対パスからの target フォルダ配下にJARを置いてください。-->
 <taskdef name="stepcounter" classname="jp.sf.amateras.stepcounter.ant.StepCounterTask"
  classpath="target/stepcounter-3.0.0.jar" />

 <taskdef name="diffcounter" classname="jp.sf.amateras.stepcounter.ant.DiffCounterTask"
  classpath="target/stepcounter-3.0.0-jar-with-dependencies.jar" />

 <target name="count">
  <!-- ステップ数をカウント formatはデフォルト/csv/excelが選択できます。-->
  <stepcounter format="excel" output="count.xls" encoding="UTF-8">
   <fileset dir="src">
    <include name="**/*.java" />
   </fileset>
   <!-- 起点ディレクトリからの階層表示
   <src path="test/sample/java/root1:test/sample/java/root2"/>
   -->
  </stepcounter>

  <!-- 差分をカウント -->
  <diffcounter format="csv" output="diff.txt" encoding="UTF-8"
   srcdir="test/sample/java/root1" olddir="test/sample/java/root2" />
 </target>
</project>
